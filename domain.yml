version: '2.0'

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
- answer_question
- greet
- nlu_fallback
- affirm
- faq
- chitchat
- lesson_fractions_halves
- lesson_fractions_wholes
- inform
- goodbye
- deny
- thankyou
- stop
- hint
- restart

entities:
- language
- mcq_answer
- name
- number
- PERSON

slots:
  is_new_user:
    type: bool
    influence_conversation: true
  age:
    type: text
    influence_conversation: false
  userName:
    type: text
    influence_conversation: false
  requested_slot:
    type: text
    influence_conversation: false
# Fraction Slots 
  3_fractions_halves_frq_1:
    type: text
    influence_conversation: false
  2_fractions_halves_mcq_1:
    type: text
    influence_conversation: false
  3_fractions_parts_mcq_1:
    type: text
    influence_conversation: false
  4_fractions_parts_mcq_2:
    type: text
    influence_conversation: false
  5_fractions_parts_mcq_3:
    type: text
    influence_conversation: false
  6_fractions_parts_mcq_4:
    type: text
    influence_conversation: false
  2_fractions_parts_nrq_1:
    type: text
    influence_conversation: false
  3_fractions_wholes_frq_1:
    type: text
    influence_conversation: false
  1_fractions_wholes_nrq_1:
    type: text
    influence_conversation: false
  2_fractions_wholes_nrq_2:
    type: text
    influence_conversation: false
  4_fractions_wholes_nrq_3:
    type: text
    influence_conversation: false
  5_fractions_wholes_nrq_4:
    type: text
    influence_conversation: false
  6_fractions_wholes_nrq_5:
    type: text
    influence_conversation: false
  1_friend_1:
    type: text
    influence_conversation: false
  friend_2:
    type: text
    initial_value: Rajat
    influence_conversation: false
  object_1:
    type: text
    initial_value: Aloo Paratha
    influence_conversation: false
  1_object_2:
    type: text
  school:
    type: text
    initial_value: school
    influence_conversation: false

responses:
  utter_greet:
  - text: Hello!
  - text: Hey {userName}
  utter_greet_existing:
  - text: Hello, again!
  - text: Hey there {userName}
  - text: Hey hey {userName}!
  utter_goodbye:
  - text: Bye! {userName} üëãüèæ
  - text: Bye bye {userName}. Chat with you soon :)
  utter_wrong_format:
  - text: There is something wrong about the value. {err}
  utter_ask_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  utter_encouragment:
  - text: That's awesome
  - text: Yes! Lets do it
  - text: You are doing amazing
  utter_correct:
  - text: That was right!
  - text: Right on {userName} :)
  - text: Yes that's so right!
  - text: Nice one
  utter_incorrect:
  - text: Not quite right {userName} üßê
  - text: Almost there but not yet üßê
  - text: So close! I am sure you will get it next time üßê
  - text: Nope. Nice try though! üßê
  utter_you_are_welcome:
  - text: You are welcome {userName}!
  - text: The pleasure is all mine!
  - text: You are very welcome!! :)
  utter_greet_first_time:
  - text: Hello! üëãüèæ My name is Ecce. I am your new digital, personal tutor üôãüèΩ‚Äç‚ôÄÔ∏è Lets
      get chatting!
  utter_greet_first_time_followup:
  - text: I do not think we have met before. Before we start, lets get to know each
      other a little bit.
  utter_ask_first_form_userName:
  - text: What is your name?
  utter_ask_first_form_age:
  - text: How old are you?
  utter_first_time_confirm:
  - text: "Is this information correct?\nName: {userName}\nAge: {age}"
  utter_start_next:
  - text: Would you like to go to the next lesson?
  - text: You are doing great. Want to start the next lesson?
  - text: Should we keep going?
  utter_confirm:
  - text: Are you sure you want to stop? ü•∫
  - text: Do you want to take a break?
  - text: So are you done for now?
  utter_check_in:
  - text: Does that make sense?
  - text: Do you understand?
  - text: Is that clear?
  - text: Got it?
  utter_end_chat_session:
  - text: You've done an awesome job! Lets chat again soon.
  utter_please_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  utter_faq:
  - text: "Thanks for asking a question! I can't seem to answer it right now, but I'll get back to you" 
  # Response selectors
  utter_faq/ask_name:
  - text: My name is Ecce :)
  - text: You can call me Ecce!
  utter_faq/bot_challenge:
  - text: I am a bot, but I prefer to think of myself as a conversational teaching
      assistant
  utter_faq/ask_creator:
  - text: I was made by a team of cool educators still in college! You can find out
      more at ecceeducation.com
  utter_faq/ask_language:
  - text: I only text in English for now but I am going to be able to speak Hindi
      and Marathi soon!
  utter_chitchat:
  - text: "Chat time!"
  utter_chitchat/exclaim_positive:
  - text: I know right!
  - text: This is so cool!
  utter_chitchat/exclaim_negative:
  - text: You've got it. You are doing so well!
  - text: I know it isn't easy, but you can do it :)
  utter_chitchat/exclaim_difficult:
  - text: You are doing such a good job. I believe in you! You can always ask questions or for hints!
# Fractions Responses
  utter_lesson_options:
  - text: In our lesson on fractions, you can start from the beginning from HALVES or jump to our later lesson on WHOLES if fractions are not new :) So which will it be?
  utter_fractions_halves_introduction:
  - text: Yay! Fractions from the start it is. To start we are going to talk about sharing food.
  utter_ask_1_friend_1:
  - text: Which of your friends do you like to eat with the most?
  utter_ask_2_fractions_halves_mcq_1:
  - image: https://ecceapi.herokuapp.com/media/fractions_halves_mcq_1.png
    text: "Imagine it is lunch time at {school} and {1_friend_1} forgot to bring their\
      \ tiffin. You decide to split your last {object_1} with your friend.\nWhich\
      \ way of splitting do you think is fair to the both of you?"
  utter_ask_3_fractions_halves_frq_1:
  - text: "*WHY* do you think this split is 'fair'?"
  utter_3_fractions_halves_frq_1_explanation:
  - text: Because when you split {object_1} like that, both you and {1_friend_1} get
      the same, or an equal, amount. You are splitting the {object_1} into two halves!
  utter_fractions_halves_conclusion:
  - text: In fractions we would say that you and {1_friend_1} each got *one half (¬Ω)*
      of the *whole*
  utter_fractions_halves_conclusion_animation:
  - text: Check out this animation
    image: https://ecceapi.herokuapp.com/media/fractions_halves_animation.mp4
  utter_ask_fractions_parts_story_form_1_object_2:
  - text: "Right after you and {1_friend_1} finished your yummy (and equal!) {object_1},
      {friend_2} sits at your table. {friend_2} says they will share 1 of the 4 snacks.They
      have biscuits, grapes, and chocolates. Which is your favorite?"
  utter_ask_2_fractions_parts_nrq_1:
  - text: "I love {1_object_2} too \U0001F60B!\n{friend_2} has 6 {1_object_2}. How many do you each get if you split them equally between the three of you?"
  utter_2_fractions_parts_nrq_1_explanation:
  - text: Listen to this!
    image: https://ecceapi.herokuapp.com/media/audio/\fractions_parts_nrq_1_explanation.ogg
  utter_ask_3_fractions_parts_mcq_1:
  - text: Tell us in fractions, what part of the whole (6 {1_object_2}) did you get?
  utter_3_fractions_parts_mcq_1_options:
  - text: Lets try again. This time I'll give you options - 1/6 , 2/3 , 1/3, 1
  utter_3_fractions_parts_mcq_1_explanation:
  - text: Listen to this!
    image: https://ecceapi.herokuapp.com/media/audio/fractions_parts_mcq_1_explanation.mp3
  utter_ask_4_fractions_parts_mcq_2:
  - text: '{1_friend_1} gives you their share. Now you have 2 out of the 3 equal parts.
      In fractions we would say you have ‚Öî (two-thirds) of the whole. Do you get more
      or less than {friend_2}?'
  utter_4_fractions_parts_mcq_2_explanation:
  - text: This animation might help!
    image: https://ecceapi.herokuapp.com/media/fractions_parts_mcq_2_explanation.mp4
  utter_ask_5_fractions_parts_mcq_3:
  - text: After showing off your fraction skills to {friend_2}, they are upset you
      get more than they do :( Now, {friend_2} wants to RE SPLIT the {1_object_2} EQUALLY
      (into halves). Do you get more or less than before?
  utter_5_fractions_parts_mcq_3_explanation:
  - text: You are splitting the food into two equal parts instead of three! Because
      there are fewer people to share with, now each person gets more.
  utter_ask_6_fractions_parts_mcq_4:
  - text: So is ¬Ω of the 6 {1_object_2} more or less than ‚Öì of the 6 {1_object_2}?
  utter_6_fractions_parts_mcq_4_explanation:
  - text: Check this out 
    image: https://ecceapi.herokuapp.com/media/audio/fractions_parts_mcq_4_explanation.mp3
  utter_fractions_parts_conclusion:
  - text: And that is PARTS!
  utter_fractions_wholes_introduction:
  - text: A farmer has a total of 12 MANGOES ü•≠ü•≠ü•≠ He needs to split them into 3 boxes,
      equally. You can help him with FRACTIONS!
  utter_fractions_wholes_introduction_hint:
  - text: Whenever we are dealing with fractions it‚Äôs always a good idea to figure
      out what the *whole* is and what the *part* is.
  utter_ask_1_fractions_wholes_nrq_1:
  - text: The farmer is splitting the 12 mangoes, which is the whole, into 3 boxes,
      so into 3 equal parts. How many mangoes are in each box?
  utter_1_fractions_wholes_nrq_1_explanation:
  - text: 12 split equally into 3 parts is 4. You can check that this is right by
      adding together all 3 equal parts - 4 mangoes + 4 mangoes + 4 mangoes is 12
      mangoes!
  utter_ask_2_fractions_wholes_nrq_2:
  - text: In fractions, how much of the *whole* is in each box?
  utter_2_fractions_wholes_nrq_2_explanation:
  - text: Each box is 1 part out of 3 boxes.  or ‚Öì of the whole.
  utter_ask_3_fractions_wholes_frq_1:
  - text: Now that you are splitting a box of 4 mangoes, what would you consider as
      the whole?
  utter_3_fractions_wholes_frq_1_explanation:
  - text: Hear why!
    image: https://ecceapi.herokuapp.com/media/audio/fractions_wholes_frq_1_explanation.ogg
  utter_ask_4_fractions_wholes_nrq_3:
  - text: After splitting the mangoes evenly among your family of 4, how many mangoes
      does each person get?
  utter_4_fractions_wholes_nrq_3_explanation:
  - text: 1 mango each since 4 mangoes split among 4 people (equally) is 1!
  utter_ask_5_fractions_wholes_nrq_4:
  - text: In fractions what share did each member of your family get?
  utter_5_fractions_wholes_nrq_4_explanation:
  - text: Each got 1 out of 4 parts, and so the fraction is ¬º
  utter_ask_6_fractions_wholes_nrq_5:
  - text: Now that you‚Äôve got one mango all to yourself, you want to cut your mango
      into 6 equal pieces. What fraction of the whole mango is each piece?
  utter_6_fractions_wholes_nrq_5_explanation:
  - text: You are cutting the mango into 6 equal parts so the fraction is 1/6
  utter_fractions_wholes_conclusion:
  - text: Did you realise that the whole changed depending on what you're splitting?!
  utter_fractions_wholes_conclusion_1:
  - text: When the farmer was splitting 12 mangoes into 3 equal boxes, you identified
      12 mangoes as the whole!
  utter_fractions_wholes_conclusion_2:
  - text: Later, when you had to share the box of 4 mangoes with your family, you
      identified 4 mangoes as the new whole!
  utter_fractions_wholes_conclusion_3:
  - text: Finally, when you were ready to eat one mango - you cut it into 6 slices.
      1 mango was now the whole you are splitting into 6 parts!In fact, Fractions
      are how you divide/split *any whole*
  utter_fractions_demo_conclusion:
  - text: Thats the end of the demo lesson. We want enable educators to make lessons like these with no code. 

forms:
  first_form:
    userName:
    - type: from_text
      not_intent: stop
    age:
    - type: from_entity
      entity: number
# Fractions Forms
  fractions_halves_story_form:
    1_friend_1:
    - type: from_text
      not_intent: ["stop"]
    2_fractions_halves_mcq_1:
    - type: from_entity
      entity: mcq_answer
      intent: answer_question
      not_intent: ["stop"]
    3_fractions_halves_frq_1:
    - type: from_text
      not_intent: ["stop"]
  fractions_parts_story_form:
    1_object_2:
    - type: from_text
      not_intent: ["stop"]
    2_fractions_parts_nrq_1:
    - type: from_entity
      entity: number
      not_intent: ["stop"]
    3_fractions_parts_mcq_1:
    - type: from_entity
      entity: number
    4_fractions_parts_mcq_2:
    - type: from_text
      not_intent: ["stop"]
    5_fractions_parts_mcq_3:
    - type: from_text
    not_intent: ["stop"]
    6_fractions_parts_mcq_4:
    - type: from_text
      not_intent: ["stop"]
  fractions_wholes_story_form:
    1_fractions_wholes_nrq_1:
    - type: from_entity
      entity: number
      not_intent: ["stop"]
    2_fractions_wholes_nrq_2:
    - type: from_entity
      entity: number
      not_intent: ["stop"]
    3_fractions_wholes_frq_1:
    - type: from_text
      not_intent: ["stop"]
    4_fractions_wholes_nrq_3:
    - type: from_entity
      entity: number
      not_intent: ["stop"]
    5_fractions_wholes_nrq_4:
    - type: from_entity
      entity: number
      not_intent: ["stop"]
    6_fractions_wholes_nrq_5:
    - type: from_entity
      entity: number
      not_intent: ["stop"]

actions:
- action_session_start
- validate_first_form
- action_failed_first_time_form
- action_check_user_status
- action_goodbye
- utter_faq
- utter_chitchat
- validate_fractions_halves_story_form
- validate_fractions_parts_story_form
- validate_fractions_wholes_story_form
